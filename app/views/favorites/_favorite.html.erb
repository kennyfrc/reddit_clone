  <div class = "favorite" >
    <% if favorite = current_user.favorited(post) %>
      <%= link_to [post, favorite], class: 'btn btn-danger', method: :delete do %>
        <i class = "glyphicon glyphicon-star-empty"> </i> &nbsp; Unfavorite it?
      <% end %>
    <% else %>
      <%= link_to [post, Favorite.new], class: 'btn btn-primary', method: :post do %> <!-- we're initalizing a model instance here which is indeed weird... but we're doing this
      so that we don't have to modify the posts_controller and posts#show view -->
        <i class = "glyphicon glyphicon-star"> </i> &nbsp; Favorite it!
      <% end %> 
    <% end %>
  </div>